<html>
<head>
	<meta charset="utf-8">
	<title>calculadora b√°sica</title>
  <link rel="stylesheet" type="text/css" href="estilo.css">

	<script type="text/javascript">

  function concatenar(ope){     
     document.getElementById("result").value = document.getElementById("result").value + ope;

  }
  function igual(){    
    document.getElementById("result").value = eval(document.getElementById("result").value);
  }

  var ban=0;

  function graficar(escala){
        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");                  
                          
        c.width = c.width; //limpiar canvas         

        ctx.fillStyle = "#FF0000";           
        ctx.moveTo(0,100);
        ctx.lineTo(400,100);
        ctx.stroke();
       
        ctx.moveTo(200,0);
        ctx.lineTo(200,200);
        ctx.stroke();

        ctx.translate(200,100);
        ctx.fillStyle = "#FF0000"; 

        var cadena =  'Math.sin(X)';//document.getElementById("result").value;//'Math.sin(X)'
        var res; 
        var y1=0, y2=0, x1=0, x2=0;     

        for(var i=-100; i<100; i+=0.25){          
          res = cadena.replace("X",i);                   
          y1 = eval(res); 

          x1=i;

          x2 = i+0.25;          
          res = cadena.replace("X",x2);         
          y2 = eval(res);                            
          
          ctx.moveTo(x1*escala,-y1*escala); //inicial
          ctx.lineTo(x2*escala,-y2*escala); //final
          ctx.stroke();          
        } 
        ban=1;
         ctx.translate(-200,-100);
        
       }

       function reiniciar(){        
        document.getElementById("result").value ="";
        }
	</script>  
</head>
<body>    

<table>   
     <caption><h1>CALCULADORA</h1></caption>  
     <tr align="center" valign="middle">
      <td colspan="10">
        <input type="text" id="result" disabled>         
        </td>
     </tr>
    <tr>      
      <td align="center" onclick="concatenar(1)"><p>1</p></td> 
      <td align="center" onclick="concatenar(2)"><p>2</p></td> 
      <td align="center" onclick="concatenar(3)"><p>3</p></td> 
      <td align="center" onclick="concatenar(4)"><p>4</p></td> 
      <td align="center" onclick="concatenar(5)"><p>5</p></td> 
      <td align="center" onclick="concatenar(6)"><p>6</p></td> 
      <td align="center" onclick="concatenar(7)"><p>7</p></td> 
      <td align="center" onclick="concatenar(8)"><p>8</p></td> 
      <td align="center" onclick="concatenar(9)"><p>9</p></td> 
      <td align="center" onclick="concatenar(0)"><p>0</p></td> 
    </tr>
    <tr>
      <td align="center" onclick="concatenar('+')"><p>+</p></td> 
      <td align="center" onclick="concatenar('-')"><p>-</p></td> 
      <td align="center" onclick="concatenar('*')"><p>*</p></td> 
      <td align="center" onclick="concatenar('/')"><p>/</p></td> 
      <td align="center" onclick="concatenar(R)"><img src="raiz.png"/></td> 
      <td align="center" onclick="concatenar('X')"><img src="x.png"/></td> 
    <tr> 
      <td align="center" onclick="concatenar(S)"><p>senx</p></td> 
      <td align="center" onclick="concatenar(C)"><p>cosx</p></td> 
      <td align="center" onclick="concatenar(T)"><p>tanx</p></td> 
      <td align="center" colspan="3" onclick="igual()"><p>=</p></td> 
      <td colspan="2" align="center" onclick="reiniciar()" title="limpiar la memoria"><p>C</p></td>
      <td colspan="2" align="center" onclick="graficar()"><p>graficar</p></td>      
    </tr>      
  </table>
<input type="range" min="10" max="100" step="1" name="rango" onchange="graficar(this.value)"/>
<br>
   <canvas id="myCanvas" width="400" height="200" style="border:1px solid #c3c3c3; margin: 20px;">
       Your browser does not support the HTML5 canvas tag.
    </canvas>
  
     
</body>
</html>